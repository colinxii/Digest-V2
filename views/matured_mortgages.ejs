<% if (!matured_mortgages || matured_mortgages.length === 0) return; %>
<!-- UNACTIONED AND MATURED MORTGAGES Section -->
<table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%" style="width: 100%; margin-top: 20px;">
  <tr>
    <td colspan="4" style="padding: 0 0 10px 0;">
      <div style="border: 1px solid #cccccc; background-color: #ECECEC; border-radius: 10px; padding: 15px; text-align: center;">
        <!--[if mso]>
        <table role="presentation" cellpadding="0" cellspacing="0" border="0" width="100%">
          <tr>
            <td bgcolor="#ECECEC" style="border: 1px solid #cccccc; padding: 15px; text-align: center;">
        <![endif]-->
        <div style="font-weight: bold; font-size: 18px; color: #333333; line-height: 1.2;">UNACTIONED OR MATURED MORTGAGES</div>
        <!--[if mso]>
            </td>
          </tr>
        </table>
        <![endif]-->
      </div>
    </td>
  </tr>
    <% 
    // Break mortgages into groups of 4
    for(let i = 0; i < matured_mortgages.length; i += 4) { 
        const rowMortgages = matured_mortgages.slice(i, i + 4);
    %>
    <tr>
        <% 
        // Fill remaining slots with empty cells if needed
        for(let j = 0; j < 4; j++) {
            const mortgage = rowMortgages[j];
            if(mortgage) { 
        %>
            <td style="width: 25%; padding: 5px; vertical-align: top;">
                <%- include('./card', { 
                    item: mortgage, 
                    type: 'mortgage', 
                    formatCardDate: formatCardDate, 
                    getRelativeTimeString: getRelativeTimeString 
                }) %>
            </td>
        <% } else { %>
            <td style="width: 25%; padding: 5px;"></td>
        <% } 
        } %>
    </tr>
    <% } %>
</table>
